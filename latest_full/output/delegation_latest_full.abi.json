{
    "buildInfo": {
        "rustc": {
            "version": "1.71.0-nightly",
            "commitHash": "a2b1646c597329d0a25efa3889b66650f65de1de",
            "commitDate": "2023-05-25",
            "channel": "Nightly",
            "short": "rustc 1.71.0-nightly (a2b1646c5 2023-05-25)"
        },
        "contractCrate": {
            "name": "delegation_latest_full",
            "version": "0.5.8"
        },
        "framework": {
            "name": "multiversx-sc",
            "version": "0.45.1"
        }
    },
    "name": "DelegationFull",
    "constructor": {
        "docs": [
            "This is the contract constructor, called only once when the contract is deployed."
        ],
        "inputs": [
            {
                "name": "auction_contract_addr",
                "type": "Address"
            },
            {
                "name": "service_fee_per_10000",
                "type": "u32"
            },
            {
                "name": "owner_min_stake_share_per_10000",
                "type": "u32"
            },
            {
                "name": "n_blocks_before_unbond",
                "type": "u64"
            },
            {
                "name": "minimum_stake",
                "type": "BigUint"
            },
            {
                "name": "total_delegation_cap",
                "type": "BigUint"
            }
        ],
        "outputs": []
    },
    "endpoints": [
        {
            "name": "version",
            "mutability": "mutable",
            "inputs": [],
            "outputs": [
                {
                    "type": "utf-8 string"
                }
            ]
        },
        {
            "docs": [
                "The number of nodes that will run with the contract stake, as configured by the owner."
            ],
            "name": "getNumNodes",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "u32"
                }
            ]
        },
        {
            "docs": [
                "Each node gets a node id. This is in order to be able to iterate over their data.",
                "This is a mapping from node BLS key to node id.",
                "The key is the bytes \"node_id\" concatenated with the BLS key. The value is the node id.",
                "Ids start from 1 because 0 means unset of None."
            ],
            "name": "getNodeId",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "bls_key",
                    "type": "BLSKey"
                }
            ],
            "outputs": [
                {
                    "type": "u32"
                }
            ]
        },
        {
            "name": "getNodeSignature",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "bls_key",
                    "type": "BLSKey"
                }
            ],
            "outputs": [
                {
                    "type": "optional<BLSSignature>",
                    "multi_result": true
                }
            ]
        },
        {
            "name": "getNodeState",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "bls_key",
                    "type": "BLSKey"
                }
            ],
            "outputs": [
                {
                    "type": "NodeState"
                }
            ]
        },
        {
            "name": "getAllNodeStates",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "variadic<multi<BLSKey,u8>>",
                    "multi_result": true
                }
            ]
        },
        {
            "name": "getNodeBlockNonceOfUnstake",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "bls_key",
                    "type": "BLSKey"
                }
            ],
            "outputs": [
                {
                    "type": "optional<u64>",
                    "multi_result": true
                }
            ]
        },
        {
            "name": "addNodes",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "bls_keys_signatures",
                    "type": "variadic<multi<BLSKey,BLSSignature>>",
                    "multi_arg": true
                }
            ],
            "outputs": []
        },
        {
            "name": "removeNodes",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "bls_keys",
                    "type": "variadic<BLSKey>",
                    "multi_arg": true
                }
            ],
            "outputs": []
        },
        {
            "docs": [
                "Each delegator gets a user id. This is in order to be able to iterate over their data.",
                "This is a mapping from delegator address to delegator id.",
                "The key is the bytes \"user_id\" concatenated with their public key.",
                "The value is the user id."
            ],
            "name": "getUserId",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "u32"
                }
            ]
        },
        {
            "name": "getUserAddress",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_id",
                    "type": "u32"
                }
            ],
            "outputs": [
                {
                    "type": "Address"
                }
            ]
        },
        {
            "docs": [
                "Retrieves the number of delegtors, including the owner,",
                "even if they no longer have anything in the contract."
            ],
            "name": "getNumUsers",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "u32"
                }
            ]
        },
        {
            "name": "updateUserAddress",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "addresses",
                    "type": "variadic<Address>",
                    "multi_arg": true
                }
            ],
            "outputs": [
                {
                    "type": "u32"
                },
                {
                    "type": "u32"
                },
                {
                    "type": "u32"
                }
            ]
        },
        {
            "name": "userIdsWithoutAddress",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "variadic<u32>",
                    "multi_result": true
                }
            ]
        },
        {
            "name": "fundById",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "id",
                    "type": "u32"
                }
            ],
            "outputs": [
                {
                    "type": "FundItem"
                }
            ]
        },
        {
            "name": "totalStake",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "docs": [
                "Yields how much a user has staked in the contract."
            ],
            "name": "getUserStake",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getUserWithdrawOnlyStake",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getUserWaitingStake",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getUserActiveStake",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getUserUnstakedStake",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getUserDeferredPaymentStake",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getTotalWithdrawOnlyStake",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getTotalWaitingStake",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getTotalActiveStake",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getTotalUnstakedStake",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getTotalDeferredPaymentStake",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getUserStakeByType",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                },
                {
                    "type": "BigUint"
                },
                {
                    "type": "BigUint"
                },
                {
                    "type": "BigUint"
                },
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getTotalStakeByType",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                },
                {
                    "type": "BigUint"
                },
                {
                    "type": "BigUint"
                },
                {
                    "type": "BigUint"
                },
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getAllUserStakeByType",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "variadic<multi<Address,multi<BigUint,BigUint,BigUint,BigUint,BigUint>>>",
                    "multi_result": true
                }
            ]
        },
        {
            "name": "getUserDeferredPaymentList",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "variadic<multi<BigUint,u64>>",
                    "multi_result": true
                }
            ]
        },
        {
            "name": "getFullWaitingList",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "variadic<multi<Address,BigUint,u64>>",
                    "multi_result": true
                }
            ]
        },
        {
            "name": "getFullActiveList",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "variadic<multi<Address,BigUint>>",
                    "multi_result": true
                }
            ]
        },
        {
            "docs": [
                "Owner activates specific nodes."
            ],
            "name": "stakeNodes",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "amount_to_stake",
                    "type": "BigUint"
                },
                {
                    "name": "bls_keys",
                    "type": "variadic<BLSKey>",
                    "multi_arg": true
                }
            ],
            "outputs": []
        },
        {
            "docs": [
                "Unstakes from the auction smart contract.",
                "The nodes will stop receiving rewards, but stake cannot be yet reclaimed.",
                "This operation is performed by the owner.",
                "Does not unstake tokens."
            ],
            "name": "unStakeNodes",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "bls_keys",
                    "type": "variadic<BLSKey>",
                    "multi_arg": true
                }
            ],
            "outputs": []
        },
        {
            "docs": [
                "Unstakes from the auction smart contract.",
                "The nodes will stop receiving rewards, but stake cannot be yet reclaimed.",
                "This operation is performed by the owner.",
                "Also unstakes tokens."
            ],
            "name": "unStakeNodesAndTokens",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "bls_keys",
                    "type": "variadic<BLSKey>",
                    "multi_arg": true
                }
            ],
            "outputs": []
        },
        {
            "docs": [
                "Owner can retry a callback in case of callback failure.",
                "Warning: misuse can lead to state inconsistency."
            ],
            "name": "forceNodeUnBondPeriod",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "bls_keys",
                    "type": "variadic<BLSKey>",
                    "multi_arg": true
                }
            ],
            "outputs": []
        },
        {
            "docs": [
                "Calls unbond for all provided nodes. Will fail if node cannot be unbonded."
            ],
            "name": "unBondNodes",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "bls_keys",
                    "type": "variadic<BLSKey>",
                    "multi_arg": true
                }
            ],
            "outputs": []
        },
        {
            "docs": [
                "Calls unbond for all nodes that are in the unbond period and are due.",
                "Nothing happens if no nodes can be unbonded."
            ],
            "name": "unBondAllPossibleNodes",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [],
            "outputs": []
        },
        {
            "docs": [
                "Claims from auction SC funds that were sent but are not required to run the nodes."
            ],
            "name": "claimUnusedFunds",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [],
            "outputs": []
        },
        {
            "name": "unJailNodes",
            "onlyOwner": true,
            "mutability": "mutable",
            "payableInTokens": [
                "EGLD"
            ],
            "inputs": [
                {
                    "name": "bls_keys",
                    "type": "variadic<BLSKey>",
                    "multi_arg": true
                }
            ],
            "outputs": []
        },
        {
            "name": "unStakeTokens",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ],
            "outputs": []
        },
        {
            "name": "unBondTokens",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ],
            "outputs": []
        },
        {
            "docs": [
                "Yields the address of the contract with which staking will be performed.",
                "This address is standard in the protocol, but it is saved in storage to avoid hardcoding it."
            ],
            "name": "getAuctionContractAddress",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "Address"
                }
            ]
        },
        {
            "docs": [
                "The proportion of rewards that goes to the owner as compensation for running the nodes.",
                "10000 = 100%."
            ],
            "name": "getServiceFee",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getTotalDelegationCap",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "isBootstrapMode",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "bool"
                }
            ]
        },
        {
            "docs": [
                "The minimum proportion of stake that has to be provided by the owner.",
                "10000 = 100%."
            ],
            "name": "getOwnerMinStakeShare",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "docs": [
                "Minimum number of n_blocks between unstake and fund getting into inactive state."
            ],
            "name": "getNumBlocksBeforeUnBond",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "u64"
                }
            ]
        },
        {
            "name": "setNumBlocksBeforeUnBond",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "n_blocks_before_unbond",
                    "type": "u64"
                }
            ],
            "outputs": []
        },
        {
            "docs": [
                "Delegators are not allowed make transactions with less then this amount of stake (of any type).",
                "Zero means disabled."
            ],
            "name": "getMinimumStake",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "setMinimumStake",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "minimum_stake",
                    "type": "BigUint"
                }
            ],
            "outputs": []
        },
        {
            "name": "getGlobalOperationCheckpoint",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "GlobalOpCheckpoint"
                }
            ]
        },
        {
            "name": "isGlobalOperationInProgress",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "bool"
                }
            ]
        },
        {
            "docs": [
                "Yields all the rewards received by the contract since its creation.",
                "This value is monotonously increasing - it can never decrease.",
                "Handing out rewards will not decrease this value.",
                "This is to keep track of how many funds entered the contract. It ignores any funds leaving the contract.",
                "Individual rewards are computed based on this value.",
                "For each user we keep a record on what was the value of the historical rewards when they last claimed.",
                "Subtracting that from the current historical rewards yields how much accumulated in the contract since they last claimed."
            ],
            "name": "getTotalCumulatedRewards",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "docs": [
                "Yields how much a user is able to claim in rewards at the present time.",
                "Does not update storage."
            ],
            "name": "getClaimableRewards",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "docs": [
                "Utility readonly function to check how many unclaimed rewards currently reside in the contract."
            ],
            "name": "getTotalUnclaimedRewards",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getTotalUnProtected",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "docs": [
                "Invariant: should never return error."
            ],
            "name": "validateOwnerStakeShare",
            "mutability": "readonly",
            "inputs": [],
            "outputs": []
        },
        {
            "docs": [
                "Invariant: should never return error."
            ],
            "name": "validateDelegationCapInvariant",
            "mutability": "readonly",
            "inputs": [],
            "outputs": []
        },
        {
            "docs": [
                "Continues executing any interrupted operation.",
                "Returns true if still out of gas, false if computation completed."
            ],
            "name": "continueGlobalOperation",
            "mutability": "mutable",
            "inputs": [],
            "outputs": [
                {
                    "type": "OperationCompletionStatus"
                }
            ]
        },
        {
            "docs": [
                "Total delegation cap can be modified by owner only.",
                "It will recalculate and set the checkpoint for all the delegators"
            ],
            "name": "modifyTotalDelegationCap",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "new_total_cap",
                    "type": "BigUint"
                }
            ],
            "outputs": [
                {
                    "type": "OperationCompletionStatus"
                }
            ]
        },
        {
            "docs": [
                "The stake per node can be changed by the owner.",
                "It does not get set in the contructor, so the owner has to manually set it after the contract is deployed."
            ],
            "name": "setServiceFee",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "service_fee_per_10000",
                    "type": "u32"
                }
            ],
            "outputs": [
                {
                    "type": "OperationCompletionStatus"
                }
            ]
        },
        {
            "docs": [
                "Retrieve those rewards to which the caller is entitled.",
                "Will send:",
                "- new rewards",
                "- rewards that were previously computed but not sent"
            ],
            "name": "claimRewards",
            "mutability": "mutable",
            "inputs": [],
            "outputs": []
        },
        {
            "docs": [
                "Delegate stake to the smart contract.",
                "Stake is initially inactive, so does it not produce rewards."
            ],
            "name": "stake",
            "mutability": "mutable",
            "payableInTokens": [
                "EGLD"
            ],
            "inputs": [],
            "outputs": []
        },
        {
            "docs": [
                "unStake - the user will announce that he wants to get out of the contract",
                "selected funds will change from active to inactive, but claimable only after unBond period ends"
            ],
            "name": "unStake",
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ],
            "outputs": []
        },
        {
            "name": "getUnStakeable",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "unBond",
            "mutability": "mutable",
            "inputs": [],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "name": "getUnBondable",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "user_address",
                    "type": "Address"
                }
            ],
            "outputs": [
                {
                    "type": "BigUint"
                }
            ]
        },
        {
            "docs": [
                "Raw id of the last checkpoint reached by any of the dust cleanup endpoints."
            ],
            "name": "dustCleanupCheckpoint",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "u32"
                }
            ]
        },
        {
            "docs": [
                "Counts fund buckets in the waiting list that are below a certain threshold.",
                "Unlike most views, yields the number of entries, rather than the sum of EGLD."
            ],
            "name": "countDustItemsWaitingList",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "dust_limit",
                    "type": "BigUint"
                }
            ],
            "outputs": [
                {
                    "type": "u32"
                }
            ]
        },
        {
            "docs": [
                "Counts fund buckets in the active staking list that are below a certain threshold.",
                "Unlike most views, yields the number of entries, rather than the sum of EGLD."
            ],
            "name": "countDustItemsActive",
            "mutability": "readonly",
            "inputs": [
                {
                    "name": "dust_limit",
                    "type": "BigUint"
                }
            ],
            "outputs": [
                {
                    "type": "u32"
                }
            ]
        },
        {
            "docs": [
                "Unstakes all fund buckets in the waiting list that are below a certin threshold.",
                "Will stop if running low on gas.",
                "Does not block the rest of the contract. If any operation interferes with an interrupted",
                "dust cleanup, the operation can be begun again.",
                "It will auto-reset if the list ends or the current item is no longer valid."
            ],
            "name": "dustCleanupWaitingList",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "dust_limit",
                    "type": "BigUint"
                }
            ],
            "outputs": []
        },
        {
            "docs": [
                "Unstakes and unbonds all active fund buckets that are below a certin threshold.",
                "Unlike the regular unstake/unbond process, it will send the funds directly in `WithdrawOnly` state.",
                "Will stop if running low on gas.",
                "Does not block the rest of the contract. If any operation interferes with an interrupted",
                "dust cleanup, the operation can be begun again.",
                "It will auto-reset if the list ends or the current item is no longer valid."
            ],
            "name": "dustCleanupActive",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "dust_limit",
                    "type": "BigUint"
                }
            ],
            "outputs": []
        },
        {
            "name": "dnsRegister",
            "onlyOwner": true,
            "mutability": "mutable",
            "payableInTokens": [
                "EGLD"
            ],
            "inputs": [
                {
                    "name": "dns_address",
                    "type": "Address"
                },
                {
                    "name": "name",
                    "type": "bytes"
                }
            ],
            "outputs": []
        },
        {
            "name": "setFeatureFlag",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [
                {
                    "name": "feature_name",
                    "type": "bytes"
                },
                {
                    "name": "value",
                    "type": "bool"
                }
            ],
            "outputs": []
        },
        {
            "name": "pause",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [],
            "outputs": []
        },
        {
            "name": "unpause",
            "onlyOwner": true,
            "mutability": "mutable",
            "inputs": [],
            "outputs": []
        },
        {
            "name": "isPaused",
            "mutability": "readonly",
            "inputs": [],
            "outputs": [
                {
                    "type": "bool"
                }
            ]
        }
    ],
    "events": [
        {
            "identifier": "userStake",
            "inputs": [
                {
                    "name": "delegator",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ]
        },
        {
            "identifier": "userUnstake",
            "inputs": [
                {
                    "name": "delegator",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ]
        },
        {
            "identifier": "nodeStakeOk",
            "inputs": []
        },
        {
            "identifier": "nodeStakeFail",
            "inputs": [
                {
                    "name": "reason",
                    "type": "bytes"
                }
            ]
        },
        {
            "identifier": "nodeUnstakeOk",
            "inputs": []
        },
        {
            "identifier": "nodeUnstakeFail",
            "inputs": [
                {
                    "name": "reason",
                    "type": "bytes"
                }
            ]
        },
        {
            "identifier": "nodeUnbondOk",
            "inputs": []
        },
        {
            "identifier": "nodeUnbondFail",
            "inputs": [
                {
                    "name": "reason",
                    "type": "bytes"
                }
            ]
        },
        {
            "identifier": "tokensUnstake",
            "inputs": [
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ]
        },
        {
            "identifier": "tokensUnbond",
            "inputs": [
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ]
        },
        {
            "identifier": "userClaimRewards",
            "inputs": [
                {
                    "name": "user",
                    "type": "Address",
                    "indexed": true
                },
                {
                    "name": "amount",
                    "type": "BigUint"
                }
            ]
        }
    ],
    "esdtAttributes": [],
    "hasCallback": true,
    "types": {
        "BLSKey": {
            "type": "struct",
            "fields": [
                {
                    "name": "bytes",
                    "type": "array96<u8>"
                }
            ]
        },
        "BLSSignature": {
            "type": "struct",
            "fields": [
                {
                    "name": "bytes",
                    "type": "array48<u8>"
                }
            ]
        },
        "ComputeAllRewardsData": {
            "type": "struct",
            "docs": [
                "Models the interrupted state of compute_all_rewards."
            ],
            "fields": [
                {
                    "name": "last_id",
                    "type": "u32"
                },
                {
                    "name": "sum_unclaimed",
                    "type": "BigUint"
                },
                {
                    "name": "rewards_checkpoint",
                    "type": "BigUint"
                }
            ]
        },
        "FundDescription": {
            "type": "enum",
            "variants": [
                {
                    "docs": [
                        "Funds that can only be extracted from contract. Will never be used as stake."
                    ],
                    "name": "WithdrawOnly",
                    "discriminant": 0
                },
                {
                    "docs": [
                        "Inactive stake, waiting in the queue to be activated."
                    ],
                    "name": "Waiting",
                    "discriminant": 1,
                    "fields": [
                        {
                            "name": "created",
                            "type": "u64"
                        }
                    ]
                },
                {
                    "name": "_PendingAct",
                    "discriminant": 2
                },
                {
                    "name": "_ActiveFailed",
                    "discriminant": 3
                },
                {
                    "docs": [
                        "Stake is locked in the protocol and rewards are coming in.",
                        "Users cannot withdraw stake, but they can exchange their share of the total stake amongst each other."
                    ],
                    "name": "Active",
                    "discriminant": 4
                },
                {
                    "docs": [
                        "Same as Active, but no rewards are coming in."
                    ],
                    "name": "UnStaked",
                    "discriminant": 5,
                    "fields": [
                        {
                            "name": "created",
                            "type": "u64"
                        }
                    ]
                },
                {
                    "name": "DeferredPayment",
                    "discriminant": 6,
                    "fields": [
                        {
                            "name": "created",
                            "type": "u64"
                        }
                    ]
                }
            ]
        },
        "FundItem": {
            "type": "struct",
            "docs": [
                "A unit of balance, usually stake.",
                "Contains a description of the source/intent of the funds, together with a balance."
            ],
            "fields": [
                {
                    "name": "fund_desc",
                    "type": "FundDescription"
                },
                {
                    "name": "user_id",
                    "type": "u32"
                },
                {
                    "name": "balance",
                    "type": "BigUint"
                },
                {
                    "name": "type_list_next",
                    "type": "u32"
                },
                {
                    "name": "type_list_prev",
                    "type": "u32"
                },
                {
                    "name": "user_list_next",
                    "type": "u32"
                },
                {
                    "name": "user_list_prev",
                    "type": "u32"
                }
            ]
        },
        "GlobalOpCheckpoint": {
            "type": "enum",
            "docs": [
                "Models any computation that can pause itself when it runs out of gas and continue in another block."
            ],
            "variants": [
                {
                    "name": "None",
                    "discriminant": 0
                },
                {
                    "name": "ModifyTotalDelegationCap",
                    "discriminant": 1,
                    "fields": [
                        {
                            "name": "0",
                            "type": "ModifyTotalDelegationCapData"
                        }
                    ]
                },
                {
                    "name": "ChangeServiceFee",
                    "discriminant": 2,
                    "fields": [
                        {
                            "name": "new_service_fee",
                            "type": "BigUint"
                        },
                        {
                            "name": "compute_rewards_data",
                            "type": "ComputeAllRewardsData"
                        }
                    ]
                }
            ]
        },
        "ModifyDelegationCapStep": {
            "type": "enum",
            "docs": [
                "Models the steps that need to be executed when modifying the total delegation cap."
            ],
            "variants": [
                {
                    "name": "ComputeAllRewards",
                    "discriminant": 0,
                    "fields": [
                        {
                            "name": "0",
                            "type": "ComputeAllRewardsData"
                        }
                    ]
                },
                {
                    "name": "SwapWaitingToActive",
                    "discriminant": 1
                },
                {
                    "name": "SwapUnstakedToDeferredPayment",
                    "discriminant": 2
                },
                {
                    "name": "SwapActiveToDeferredPayment",
                    "discriminant": 3
                }
            ]
        },
        "ModifyTotalDelegationCapData": {
            "type": "struct",
            "docs": [
                "Contains data needed to be persisted while performing a change in the total delegation cap."
            ],
            "fields": [
                {
                    "name": "new_delegation_cap",
                    "type": "BigUint"
                },
                {
                    "name": "remaining_swap_waiting_to_active",
                    "type": "BigUint"
                },
                {
                    "name": "remaining_swap_active_to_def_p",
                    "type": "BigUint"
                },
                {
                    "name": "remaining_swap_unstaked_to_def_p",
                    "type": "BigUint"
                },
                {
                    "name": "step",
                    "type": "ModifyDelegationCapStep"
                }
            ]
        },
        "NodeState": {
            "type": "enum",
            "docs": [
                "Status of a node."
            ],
            "variants": [
                {
                    "docs": [
                        "Node is registered in delegation, but not in the auction SC."
                    ],
                    "name": "Inactive",
                    "discriminant": 0
                },
                {
                    "docs": [
                        "Stake call to auction sent, but callback not yet received."
                    ],
                    "name": "PendingActivation",
                    "discriminant": 1
                },
                {
                    "docs": [
                        "Node stake was sent to the auction SC, but the transaction failed for the node.",
                        "No longer used."
                    ],
                    "name": "ActivationFailed",
                    "discriminant": 2
                },
                {
                    "docs": [
                        "Node is registered in the auction SC, active and producing rewards."
                    ],
                    "name": "Active",
                    "discriminant": 3
                },
                {
                    "docs": [
                        "UnStake call to auction sent, but callback not yet received."
                    ],
                    "name": "PendingDeactivation",
                    "discriminant": 4
                },
                {
                    "docs": [
                        "Same as Active, but no rewards are coming in.",
                        "This is necessary for a period of time before the stake can be retrieved and unlocked."
                    ],
                    "name": "UnBondPeriod",
                    "discriminant": 5,
                    "fields": [
                        {
                            "name": "started",
                            "type": "u64"
                        }
                    ]
                },
                {
                    "docs": [
                        "UnBond call to auction sent, but callback not yet received.",
                        "`unbond_started` field is needed in case unbonding fails and the UnBondPeriod state needs to be restored."
                    ],
                    "name": "PendingUnBond",
                    "discriminant": 6,
                    "fields": [
                        {
                            "name": "unbond_started",
                            "type": "u64"
                        }
                    ]
                },
                {
                    "docs": [
                        "Node completely removed from the delegation contract."
                    ],
                    "name": "Removed",
                    "discriminant": 7
                }
            ]
        },
        "OperationCompletionStatus": {
            "type": "explicit-enum",
            "variants": [
                {
                    "docs": [
                        "indicates that operation was completed"
                    ],
                    "name": "completed"
                },
                {
                    "docs": [
                        "indicates that operation was interrupted prematurely, due to low gas"
                    ],
                    "name": "interrupted"
                }
            ]
        }
    }
}
